package p1;

import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.net.Socket;
import java.net.UnknownHostException;

public class Client {

	public static void main(String[] args) throws UnknownHostException, IOException, ClassNotFoundException {
		ObjectInputStream ois;
		ObjectOutputStream oos;

		Socket socket = new Socket("172.29.6.61", 9000);
		ChatMessage chatMessage;
		oos = new ObjectOutputStream(socket.getOutputStream());
		ois = new ObjectInputStream(socket.getInputStream());

		while (true) {
			chatMessage = (ChatMessage)ois.readObject();
			if(chatMessage.getId() == 0) {
				String str = 
							chatMessage.getName() + ": " +
							chatMessage.getMessage();
				System.out.println(str);
			} else if(chatMessage.getId() == 1) {
				System.out.println("Type 1 for log in message");
			} else if (chatMessage.getId() == 2) {
				System.out.println("Type 2 for log off message");
			}
		}

	}

}
